/* static/properties/floor_parking_report.css */


/* ---------- THEME ---------- */
:root{
  --bg:#f3f4f6;
  --paper:#ffffff;

  --ink:#111827;     /* почти чёрный */
  --muted:#6b7280;   /* серый для подписи */
  --line:#d1d5db;    /* разделители */
  --soft:#f9fafb;    /* очень светлая подложка (редко) */

  /* “акцент” только один и очень сдержанный */
  --accent:#111827;  /* по сути чёрный: подходит для печати */
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;
  font-size:12.5px;
  line-height:1.45;
}

/* утилиты */
.muted{ color:var(--muted); }
.small{ font-size:11.5px; }
.num{ text-align:right; font-variant-numeric: tabular-nums; }
.mono{ font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; }

a{ color:inherit; text-decoration:none; }
a:focus, button:focus{
  outline:2px solid rgba(17,24,39,.18);
  outline-offset:2px;
}

/* ---------- PAGE SHELL (экран) ---------- */
.report-body .page{
  width:1080px;
  max-width:calc(100vw - 28px);
  margin:14px auto 22px;
  background:var(--paper);
  border:1px solid var(--line);
  border-radius:10px;           /* слегка, чтобы на экране “держалось”, но без карточности */
  padding:22px 22px 18px;
  box-shadow:0 10px 30px rgba(17,24,39,.10);
}

/* ---------- TOOLBAR ---------- */
.toolbar{
  width:1080px;
  max-width:calc(100vw - 28px);
  margin:12px auto 0;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}

.btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:8px;
  border:1px solid var(--line);
  background:#fff;
  color:var(--ink);
  cursor:pointer;
  font-size:12.5px;
  font-weight:700;
}
.btn:hover{ background:var(--soft); }

.btn-primary{
  border:1px solid var(--ink);
  background:var(--ink);
  color:#fff;
}
.btn-primary:hover{ background:#000; }

/* ---------- HEADINGS ---------- */
h1,h2,h3{ margin:0; }

.section{
  margin-top:18px;
}

.section-head{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:12px;
  padding-bottom:10px;
  border-bottom:1px solid var(--line);
}

.section-head h2,
.toc h2{
  font-size:14.5px;
  font-weight:800;
  letter-spacing:-0.01em;
}

.card-title,
.chart-title,
.filters-title{
  font-size:12.5px;
  font-weight:800;
  letter-spacing:-0.005em;
  margin-bottom:6px;
}

.hr-accent{
  height:1px;
  background:var(--line);
  margin:16px 0;
}

/* ============================================
   COVER (строгая “оценочная”)
   твоя разметка: .report-cover .cover-inner ...
   ============================================ */

.report-cover{
  background:#fff;
  border:1px solid var(--line);
  border-radius:10px;
  overflow:hidden;
}

/* один сдержанный акцент сверху */
.report-cover::before{
  content:"";
  display:block;
  height:4px;
  background:var(--accent);
}

.cover-inner{
  padding:70px 72px 48px;
  min-height: calc(100vh - 80px);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}

.cover-type{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.18em;
  color:var(--muted);
  font-weight:800;
}

.cover-center{
  margin-top:60px;
  max-width:860px;
}

.cover-building{
  font-size:42px;
  font-weight:900;
  letter-spacing:-0.03em;
  line-height:1.12;
  color:var(--ink);
}

/* сухой подзаголовок как в отчётах оценщиков */
.cover-sub{
  margin-top:18px;
  font-size:13px;
  color:#374151;
  font-weight:600;
  padding-top:12px;
  border-top:1px solid var(--line);
  max-width:560px;
}

.cover-bottom{
  margin-top:24px;
  font-size:11px;
  color:var(--muted);
}

/* Разрыв страницы */
.pagebreak{
  page-break-after:always;
  break-after:page;
  height:1px;
}

/* ============================================
   EXECUTIVE SUMMARY KPI
   - аккуратно: 3 KPI в ряд, потом wide на всю строку, потом 2 KPI
   ============================================ */

.summary-kpis{
  margin-top:12px;
  display:grid;
  grid-template-columns:repeat(12, minmax(0, 1fr));
  gap:0;
  border:1px solid var(--line);
}

/* базовый вид KPI */
.summary-kpis .kpi{
  background:#fff;
  padding:12px 14px 14px;
  border-right:1px solid var(--line);
  border-bottom:1px solid var(--line);
}

/* 1-я строка: 3 KPI по 4 колонки */
.summary-kpis .kpi:nth-child(1),
.summary-kpis .kpi:nth-child(2),
.summary-kpis .kpi:nth-child(3){
  grid-column: span 4;
}
.summary-kpis .kpi:nth-child(3){
  border-right:none;
}

/* 2-я строка: wide KPI (МАП) на всю ширину */
.summary-kpis .kpi.kpi-wide{
  grid-column: 1 / -1;
  border-right:none;
}

/* 3-я строка: 2 KPI по 6 колонок */
.summary-kpis .kpi:nth-child(5),
.summary-kpis .kpi:nth-child(6){
  grid-column: span 6;
  border-bottom:none;
}
.summary-kpis .kpi:nth-child(6){
  border-right:none;
}

/* типографика KPI */
.kpi-ttl{
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:.16em;
  color:var(--muted);
  font-weight:800;
}
.kpi-val{
  margin-top:8px;
  font-size:18px;
  font-weight:900;
  letter-spacing:-0.01em;
  color:var(--ink);
}
.kpi-sub{
  margin-top:4px;
  font-size:11px;
  color:var(--muted);
}

/* ============================================
   FILTERS (как параметры формирования)
   - в summary без рамки (как подпись), в остальных местах можно оставить рамку
   ============================================ */

/* БАЗОВО: оставим аккуратный блок (если где-то ещё используешь filters) */
.filters{
  margin-top:10px;
  border:1px solid var(--line);
  padding:10px 12px;
  background:#fff;
}

.filters-title{ margin-bottom:6px; }

.filters-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap:8px;
  margin-top:6px;
}

.filter-item{
  font-size:11.5px;
  color:var(--muted);
}
.filter-item b{
  color:var(--ink);
  font-weight:800;
}

/* ВАЖНО: в Executive summary убираем “карточность” */
#sec-i .filters{
  border:none !important;
  padding:0 !important;
  background:transparent !important;
  margin-top:10px !important;
}
#sec-i .filters-title{
  font-size:11.5px;
  font-weight:800;
  margin-bottom:4px;
}
#sec-i .filter-item{
  font-size:11.5px;
}





/* ============================================
   CHARTS (строго)
   ============================================ */
.charts{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:12px;
}

.chart-card{
  border:1px solid var(--line);
  padding:10px 12px;
  background:#fff;
}

.chart-title{
  display:flex;
  align-items:center;
  gap:8px;
  padding-bottom:6px;
  border-bottom:1px solid var(--line);
  margin-bottom:10px;
}
.chart-title::before{
  content:"";
  width:10px;
  height:2px;
  background:var(--accent);
  display:inline-block;
}

.chart-body svg{
  width:100%;
  height:auto;
  display:block;
}

/* ============================================
   TABLES (оценочный стиль)
   ============================================ */
.table-wrap{
  margin-top:12px;
  border:1px solid var(--line);
  overflow:hidden;
  background:#fff;
}

.tbl{
  width:100%;
  border-collapse:collapse;
  font-size:11.5px;
}

.tbl thead th{
  background:var(--soft);
  border-bottom:1px solid var(--line);
  padding:9px 10px;
  font-weight:800;
  color:#374151;
  text-align:left;
  white-space:nowrap;
}

.tbl tbody td{
  border-bottom:1px solid var(--line);
  padding:8px 10px;
  vertical-align:top;
}

.tbl tbody tr:last-child td{ border-bottom:none; }

/* лёгкая “зебра” (очень деликатно) */
.tbl tbody tr:nth-child(even){
  background:#fcfcfd;
}

/* ============================================
   GENERIC CARDS (если где-то используешь)
   ============================================ */
.cards-2{
  margin-top:10px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.card{
  border:1px solid var(--line);
  background:#fff;
  padding:12px 14px;
}

.bullets{ margin:0; padding-left:18px; }
.bullets li{ margin:5px 0; }

/* ============================================
   FOOTER
   ============================================ */
.footer{
  margin-top:16px;
  padding-top:10px;
  border-top:1px solid var(--line);
  font-size:11px;
  color:var(--muted);
  display:flex;
  justify-content:space-between;
  gap:12px;
}


/* ============================================
   ОГЛАВЛЕНИЕ — ВСЕГДА С НОВОЙ СТРАНИЦЫ
   ============================================ */

.toc,
#toc,
section.toc{
  break-before: page;
  page-break-before: always;
}


/* ============================================
   RESPONSIVE (чтобы на узком экране не ломалось)
   ============================================ */
@media (max-width: 980px){
  .charts{ grid-template-columns: 1fr; }
  .filters-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }

  .summary-kpis{ grid-template-columns: repeat(6, minmax(0, 1fr)); }
  .kpi{ grid-column: span 3; }
  .kpi.kpi-wide{ grid-column: span 6; }

  .summary-kpis .kpi:nth-child(4n){ border-right:1px solid var(--line); }
  .summary-kpis .kpi:nth-child(2n){ border-right:none; }
  .summary-kpis .kpi:nth-last-child(-n+2){ border-bottom:none; }

  .cover-inner{ padding:50px 22px 32px; }
  .cover-building{ font-size:34px; }
}

@media (max-width: 560px){
  .summary-kpis{ grid-template-columns: 1fr; }
  .kpi, .kpi.kpi-wide{ grid-column: 1 / -1; border-right:none !important; }
  .summary-kpis .kpi:last-child{ border-bottom:none; }
  .filters-grid{ grid-template-columns: 1fr; }
}

/* ============================================
   PRINT
   - без теней и “экранного” фона
   - сохраняем акцентную линию на обложке
   ============================================ */
@media print{
  /* печатать цвета точно (даже если акцент почти чёрный) */
  *{
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  @page { margin: 12mm; }

  body{
    background:#fff !important;
    margin:0 !important;
  }

  .toolbar{ display:none !important; }

  .report-body .page{
    width:auto !important;
    max-width:none !important;
    margin:0 !important;
    padding:0 !important;
    border:none !important;
    border-radius:0 !important;
    box-shadow:none !important;
    overflow:visible !important;
  }

  /* cover отдельной страницей */
  .report-cover{
    border:none !important;
    border-radius:0 !important;
    break-after:page !important;
    page-break-after:always !important;
  }

  .pagebreak{ display:none !important; }

  /* чистим любые тени */
  .card, .chart-card, .table-wrap, .filters, .kpi{
    box-shadow:none !important;
  }
}






