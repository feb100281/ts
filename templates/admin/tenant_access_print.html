{% load static %}

<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>–î–æ—Å—Ç—É–ø –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç ‚Äî {{ cp.name }}</title>
  <link rel="stylesheet" href="{% static 'fonts/glyphs.css' %}">
  <style>
    :root {
      --bg:#f3f4f6;
      --card:#ffffff;
      --border:#e5e7eb;
      --accent:#0f172a;
      --accent-soft:#111827;
      --accent-teal:#14b8a6;
      --muted:#6b7280;
    }

    * { box-sizing:border-box; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin:0;
      padding:24px 12px;
      background:var(--bg);
      display:flex;
      justify-content:center;
    }

    .page-wrap {
      width:100%;
      display:flex;
      justify-content:center;
    }

    .card {
      max-width:680px;
      width:100%;
      background:var(--card);
      border-radius:16px;
      border:1px solid var(--border);
      padding:22px 24px 20px;
      box-shadow:0 18px 45px rgba(15,23,42,.12);
    }

    /* TOOLBAR */
    .toolbar {
      margin-bottom:14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }

    .toolbar-buttons {
      display:flex;
      align-items:center;
      gap:10px;
    }

    .btn-back {
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:8px 14px;
      border-radius:6px;
      border:1px solid #cbd5e1;
      background:#ffffff;
      color:#111827;
      cursor:pointer;
      font-size:13px;
      text-decoration:none;
      white-space:nowrap;
      height:38px;
    }

    .btn-back:hover { background:#e5e7eb; }

    .btn-print,
    .btn-email {
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:8px 14px;
      border-radius:6px;
      font-size:13px;
      cursor:pointer;
      white-space:nowrap;
      height:38px;
    }

    .btn-print {
      border:1px solid #111827;
      background:#111827;
      color:#ffffff;
    }
    .btn-print:hover { background:#020617; }

    .btn-email {
      border:1px solid #0f766e;
      background:#0d9488;
      color:#ffffff;
    }
    .btn-email:hover { background:#0f766e; }

    /* HEADER */
    .card-header {
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:16px;
      margin-bottom:16px;
    }

    .brand-block { flex:1 1 auto; }

    .brand-label {
      font-size:13px;
      font-weight:600;
      letter-spacing:.04em;
      text-transform:uppercase;
      color:var(--accent-soft);
      margin-bottom:4px;
    }

    .title {
      margin:0;
      font-size:22px;
      font-weight:700;
      color:var(--accent-soft);
    }

    .subtitle {
      margin-top:6px;
      color:var(--muted);
      font-size:13px;
    }

    /* LOGO */
    .logo-mark {
      width:64px;
      height:64px;
      border-radius:18px;
      background:radial-gradient(circle at 30% 0%, rgba(20,184,166,.7), rgba(15,23,42,1) 70%);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 14px 32px rgba(15,23,42,.45);
      flex-shrink:0;
      overflow:hidden;
    }

    .logo-glyph {
      font-family:NotoManu;
      font-size:36px;
      color:#e5fdf9;
      line-height:1;
    }

    /* CONTENT */
    .section { margin-top:18px; }

    .section-title {
      font-size:11px;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.14em;
      color:var(--muted);
      margin-bottom:4px;
    }

    .info-grid {
      border-radius:10px;
      border:1px solid var(--border);
      padding:10px 12px;
      font-size:13px;
      background:#f9fafb;
    }

    .info-row {
      display:flex;
      gap:8px;
      padding:3px 0;
    }

    .info-label {
      width:150px;
      flex-shrink:0;
      font-weight:600;
      color:var(--accent);
    }

    .info-value { color:var(--accent-soft); }

    /* ACCESS BLOCK */
    .access-block {
      line-height:1.5;
      margin-top:10px;
      border-radius:12px;
      background:#f9fafb;
      color:var(--accent-soft);
      padding:14px 14px 12px;
      border:1px solid var(--border);
    }

    .access-title {
      font-size:13px;
      font-weight:600;
      margin-bottom:6px;
    }

    .access-line {
      display:flex;
      flex-wrap:wrap;
      gap:4px 10px;
      font-size:13px;
      margin-bottom:4px;
    }

    .access-label { font-weight:600; }

    .access-value {
      font-family:"SFMono-Regular", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      word-break:break-all;
    }

    .steps {
      margin-top:6px;
      font-size:12px;
      color:var(--muted);
    }

    .steps ol {
      margin:4px 0 0 18px;
      padding:0;
    }

    .steps li { margin-bottom:2px; }

    .footer-note {
      margin-top:14px;
      font-size:11px;
      color:var(--muted);
      line-height:1.5;
    }

    @media (max-width: 600px) {
      body { padding:16px 10px; }
      .card { padding:18px 16px 16px; border-radius:14px; }
      .info-label { width:120px; }

      .toolbar {
        flex-direction:column;
        align-items:stretch;
      }
      .toolbar-buttons {
        width:100%;
        justify-content:space-between;
      }
    }

    @media print {
      @page { margin: 12mm; }
      body {
        background:#ffffff !important;
        padding:0 !important;
        margin:0 !important;
      }
      .card {
        box-shadow:none !important;
        border:1px solid #d1d5db !important;
        border-radius:12px !important;
        background:#ffffff !important;
      }
      .toolbar { display:none !important; }
      .access-block {
        background:#f3f4f6 !important;
        border:1px solid #d1d5db !important;
      }
    }
  </style>
</head>

<body>
<div class="page-wrap">
  <div class="card">

    <!-- TOOLBAR -->
    <div class="toolbar">
      <a href="{% url 'admin:counterparties_tenant_changelist' %}" class="btn-back">
        ‚Üê –ö –∫–∞–±–∏–Ω–µ—Ç–∞–º –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤
      </a>

      <div class="toolbar-buttons">
        <button class="btn-print" onclick="window.print()">
          <span class="icon">üñ®</span>
          <span>–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</span>
        </button>

        <button class="btn-email" onclick="window.location.href='?email=1'">
          <span class="icon">‚úâÔ∏è</span>
          <span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ e-mail</span>
        </button>
      </div>
    </div>

    <!-- HEADER -->
    <div class="card-header">
      <div class="logo-mark">
        <span class="logo-glyph">{{ cp.logo }}</span>
      </div>

      <div class="brand-block">
        <div class="brand-label">{{ cp.name }}</div>
        <h1 class="title">–î–æ—Å—Ç—É–ø –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞</h1>
        <div class="subtitle">–ò–ù–ù {{ cp.tax_id }}</div>
      </div>
    </div>

    <!-- ACCOUNT SECTION -->
    <div class="section">
      <div class="section-title">–£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å</div>
      <div class="info-grid">
        <div class="info-row">
          <div class="info-label">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ</div>
          <div class="info-value">{{ user.get_full_name|default:user.username }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">–õ–æ–≥–∏–Ω</div>
          <div class="info-value">{{ user.username }}</div>
        </div>

        <div class="info-row">
          <div class="info-label">Email</div>
          <div class="info-value">
            {% if user.email %}{{ user.email }}{% else %}–Ω–µ —É–∫–∞–∑–∞–Ω{% endif %}
          </div>
        </div>
      </div>
    </div>

    <!-- ACCESS SECTION -->
    <div class="section">
      <div class="section-title">–î–æ—Å—Ç—É–ø</div>

      <div class="access-block">
        <div class="access-title">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ö–æ–¥–∞</div>

        <div class="access-line">
          <span class="access-label">–ê–¥—Ä–µ—Å –≤—Ö–æ–¥–∞:</span>
          <span class="access-value">{{ login_url }}</span>
        </div>

        <div class="access-line">
          <span class="access-label">–õ–æ–≥–∏–Ω:</span>
          <span class="access-value">{{ user.username }}</span>
        </div>

        <div class="steps">
          –ü–∞—Ä–æ–ª—å –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è.  
          –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞:
          <ol>
            <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É –≤—Ö–æ–¥–∞.</li>
            <li>–ù–∞–∂–º–∏—Ç–µ —Å—Å—ã–ª–∫—É ¬´–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?¬ª.</li>
            <li>–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π e-mail.</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer-note">
      –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –Ω–µ –ø–æ–¥–ª–µ–∂–∏—Ç –ø–µ—Ä–µ–¥–∞—á–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.
      –ü—Ä–∏ —Å–º–µ–Ω–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞ –∏–ª–∏ e-mail –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–æ–±—â–∏—Ç—å —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏.
    </div>

  </div>
</div>
</body>
</html>

